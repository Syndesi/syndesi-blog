(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{424:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _dec, _class;\n\nvar _react = __webpack_require__(2);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRouter = __webpack_require__(39);\n\nvar _mobxReact = __webpack_require__(113);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step("next", value); }, function (err) { step("throw", err); }); } } return step("next"); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Post = (_dec = (0, _mobxReact.inject)("store"), _dec(_class = (0, _reactRouter.withRouter)(_class = (0, _mobxReact.observer)(_class = function (_React$Component) {\n  _inherits(Post, _React$Component);\n\n  function Post(props) {\n    _classCallCheck(this, Post);\n\n    var _this = _possibleConstructorReturn(this, (Post.__proto__ || Object.getPrototypeOf(Post)).call(this, props));\n\n    _this.state = {\n      story: null,\n      posts: []\n    };\n    return _this;\n  }\n\n  _createClass(Post, [{\n    key: "componentDidMount",\n    value: function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var p, story, posts;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                p = this.props;\n                _context.next = 3;\n                return p.store.directus.story.getStory(p.match.params.storyId, p.match.params.lang);\n\n              case 3:\n                story = _context.sent;\n                _context.next = 6;\n                return p.store.directus.story.getAllPosts(p.match.params.storyId, p.match.params.lang);\n\n              case 6:\n                posts = _context.sent;\n\n                this.setState({\n                  story: story,\n                  posts: posts\n                });\n\n              case 8:\n              case "end":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _ref.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: "render",\n    value: function render() {\n      console.log(\'Story is rendered\');\n      var s = this.state.story;\n      var content = null;\n      var posts = [];\n      this.state.posts.forEach(function (p) {\n        console.log(p);\n        posts.push(_react2.default.createElement(\n          "div",\n          { key: p.post_id },\n          _react2.default.createElement(\n            "h4",\n            null,\n            p.title\n          ),\n          _react2.default.createElement(\n            "p",\n            null,\n            p.summary\n          )\n        ));\n      });\n      if (s) {\n        content = _react2.default.createElement(\n          "div",\n          null,\n          _react2.default.createElement(\n            "h1",\n            null,\n            s.title\n          ),\n          _react2.default.createElement(\n            "p",\n            null,\n            s.summary\n          ),\n          _react2.default.createElement(\n            "p",\n            null,\n            "created on ",\n            _react2.default.createElement(\n              "span",\n              null,\n              s.created_on\n            ),\n            ", updated on ",\n            _react2.default.createElement(\n              "span",\n              null,\n              s.modified_on\n            )\n          ),\n          _react2.default.createElement("img", { src: s.thumbnail.data.thumbnails[1].url }),\n          posts\n        );\n      }\n      return _react2.default.createElement(\n        "div",\n        { "class": "page" },\n        content\n      );\n    }\n  }]);\n\n  return Post;\n}(_react2.default.Component)) || _class) || _class) || _class);\nexports.default = Post;\n\n//# sourceURL=webpack:///./src/pages/Story.js?')}}]);